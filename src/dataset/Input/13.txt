# Protocol 13

### Knowledge

A : B, S, Kas
B : A, S, Kbs
S : A, B, S, Kas, Kbs
where Kas and Kbs are shared keys.

### Actions

A → B : senc(A, Kas), B
B → S : senc(A, Kbs), Nb
S → B : senc(Key, Kbs)
S → A : senc((Key,Nb), Kas)
A → B : senc((Na,Nb), Key)
where Na is freshly generated by A; Nb is freshly generated by B; Key is freshly generated by S.

### Property

Weak agreement of B
lemma weak_agreement:
"All a b t1 #i.
Commit(a,b,t1) @i
==> (Ex t2 #j. Running(b,a,t2) @j)"